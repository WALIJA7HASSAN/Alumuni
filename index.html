<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
      <link rel="stylesheet"
  href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
  
</head>
<body>
<!--  -->
<!-- alumni -->
<section class="alumuni" id="alumni-section">
    <div class="alumuni-container">
        <h3 class="alumuni-title">ALUMNI SUCCESS STORIES</h3>
        <div class="alumuni-content">
            <div class="alumuni-text-container">
                <!-- Alumni testimonials will be injected here by JavaScript -->
            </div>
        </div>
        <ul class="slider-spans-container">
            <!-- Slider spans will be injected here by JavaScript -->
        </ul>
    </div>
</section>

<!--  -->
<section id="modal">
  
  <div class="modal-video-container">
    <span class="modal-close-icon"><i class='bx bx-x'></i></span>
    <iframe src="https://www.youtube.com/embed/SL9a8V59p9M?si=-aJ49nFpqccYZHro" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
  </div>
</section>



  
    <script>
  const alumuni = [
  {
    text: '“I took the leap of faith, and it has massively changed my business. . . I want to be a business owner, not an operator.” ',
    name: '– COURTNEY EPPS',
    occupation: 'Owner of OTB Tax and author of More Relaxing, Less Taxing',
    imgsrc: './assets/alumuniImg1.png',
    imgUrl: 'https://www.youtube.com/embed/SL9a8V59p9M?si=F0VAWJT6JT86uU2O',
  },
  {
    text: '“Business mastery is transformative. This is an opportunity to remove yourself from the weeds of your business and get ontop of your business.” ',
    name: '– Adelle Archer and Garrett Ozar',
    occupation: 'Co-founders of Eterneva',
    imgsrc: './assets/alumuniImg2.png',
    imgUrl: 'https://www.youtube.com/embed/lWjgEtRTdv4?si=S7C63nBnu_RL09x7',
  },
  {
    text: `“The business doesn't devour me anymore. It doesn't own me. I have freedom. I realized that letting it go, trusting, and hiring people better than me will allow me the time to do what I'm good at.” `,
    name: '– Daniel Lanigan',
    occupation: 'Founder of Lord Hobo Brewing Co',
    imgsrc: './assets/alumuniImg3.png',
    imgUrl: 'https://www.youtube.com/embed/IbzEA8AvsTM?si=_tQJ5rvZPTBlJEuC',
  },
  {
    text: '“We’re still in our first year officially, and we will hit right around a million dollars in revenue.” ',
    name: '-Brian McDonell',
    occupation: 'President/ Co-founder of Melin',
    imgsrc: './assets/alumuniImg4.png',
    imgUrl: 'https://www.youtube.com/embed/ugBMtngUVfU?si=5dDI-D4RxtlkKoVp',
  },
  {
    text: '“Business Mastery for me was a gateway into a whole new life experience. I justified getting involved because I thought it would be a great business expense and a new experience. I didn’t realize that it was going to open the door to not only improve my business, but other businesses, new voices, new perspectives… It really just gave me a whole other set of options that are positive.” ',
    name: '-JASMINE PURSCELL',
    occupation: 'Residential Construction Business Owner',
    imgsrc: './assets/alumuniImg5.png',
    imgUrl: 'https://www.youtube.com/embed/gSW7i9Bo6ZI?si=-cpZIbUYD7N79ny3',
  },
  {
    text: '“Business Mastery is fulfillment. It’s living out your dream, and it’s motivating others to do the same.” ',
    name: '-Cathy risigo wickline',
    occupation: 'Business owner, Occupational Therapist, Nutritionist',
    imgsrc: './assets/alumuniImg6.png',
    imgUrl: 'https://www.youtube.com/embed/_pdU6G3KMn4?si=NTnsZcrHxahDPVmz',
  },
  {
    text: '“Going to a Tony Robbins event and learning those skills in a way we can impact, has been the difference between, has been the difference-maker between business to where I can go from being a 20 year old kid making $8-$10/hr to less than 5 years later being a millionaire.” ',
    name: '-Caleb Antonucci',
    occupation: 'Owner of OurWorldEnergy',
    imgsrc: './assets/alumuniImg7.png',
    imgUrl: 'https://www.youtube.com/embed/RGCnbA_K9a4?si=ikCaWG9eK0aiIAKt',
  },
  {
    text: '“Business Mastery is an experience that allows you to overlay the essence of who you are and the nature of you with the opportunity to grow, make money and make an impact.” ',
    name: '-Liliana Gil Valletta',
    occupation: 'Business Owner',
    imgsrc: './assets/alumuniImg8.jpg',
    imgUrl: 'https://www.youtube.com/embed/RGCnbA_K9a4?si=u1eTbwQjNkzYq-_R',
  },]


// Alumni section variables
const alumniSliderSpansContainer = document.querySelector('.alumuni .slider-spans-container');
const alumniTextContainer = document.querySelector('.alumuni-text-container');
let alumniCurrentIndex = 0;
let alumniAutoSlideInterval;
let isDragging = false;
let startX, endX;

// Create alumni HTML (same as before)
function createAlumniHTML(alumnus) {
  return `
    <div class="alumuni-text">
      <a href="${alumnus.imgUrl}" class="alumni-link">
        <img src="${alumnus.imgsrc}" alt="">
      </a>
      <div class="alumuni-testimnonials">
        <i class="alumuni-p">${alumnus.text}</i>
        <p class="alumuni-name">${alumnus.name}</p>
        <p class="alumuni-occupation">${alumnus.occupation}</p>
      </div>
    </div>
  `;
}

// Create slider span HTML
function createAlumniSliderSpanHTML(index) {
  return `<li class="slider-span-container" data-index="${index}"><span class="slider-span"></span></li>`;
}

// Render alumni testimonials
function renderAlumni(animationClass) {
  // Disable links while dragging
  // const links = alumniTextContainer.querySelectorAll('a');
  // links.forEach(link => link.style.pointerEvents = isDragging ? 'none' : 'auto');
  
  // Update content
  alumniTextContainer.innerHTML = createAlumniHTML(alumuni[alumniCurrentIndex]);
  
  // Add animation class to trigger the animation
  const alumniText = alumniTextContainer.querySelector('.alumuni-text');
  alumniText.classList.add(animationClass);

  function initializeImageClickEvents() {
    const container = document.querySelector('.alumuni-container');
   
    
    if (container) {
      
      container.addEventListener('click', function(event) {
        const clickedElement = event.target;
          const parentAlumniText = clickedElement.closest('.alumuni-text');

          if (parentAlumniText) {
            // Find the 'a' tag within this parent
            const link = parentAlumniText.querySelector('a');
            if (link) {
              const videoUrl = link.href;
              // Open the modal with the video URL
              console.log(videoUrl);
              
              openModalWithVideo(videoUrl);
            }
          }
      });
    }
  }
  initializeImageClickEvents();
  
  // Update the slider spans and active span
  alumniSliderSpansContainer.innerHTML = alumuni
    .map((_, index) => createAlumniSliderSpanHTML(index))
    .join('');
  updateAlumniActiveSpan(alumniCurrentIndex); // Initialize the first testimonial
  initializeAlumniSliderSpanEventListeners(); // Reattach event listeners

  // Remove animation class after animation completes to reset for next update
  setTimeout(() => {
    alumniText.classList.remove(animationClass);
  }, 1000); // Adjust the delay to match your CSS animation duration
}

// Update active slider span
function updateAlumniActiveSpan(index) {
  const sliderSpans = document.querySelectorAll('.alumuni .slider-span-container');
  sliderSpans.forEach((container, idx) => {
    const span = container.querySelector('.slider-span');
    span.classList.toggle('active-slider-span', idx === index);
  });
}

// Reset animation class
function resetAlumniAnimation() {
  const alumniText = alumniTextContainer.querySelector('.alumuni-text');
  alumniText.classList.remove('slide-right', 'slide-left');
}

// Show next alumni
function showNextAlumni() {
  resetAlumniAnimation();
  alumniCurrentIndex = (alumniCurrentIndex + 1) % alumuni.length;
  renderAlumni('slide-right'); // Update content and reattach event listeners
  restartAlumniAutoSlide();
}

// Show previous alumni
function showPrevAlumni() {
  resetAlumniAnimation();
  alumniCurrentIndex = (alumniCurrentIndex - 1 + alumuni.length) % alumuni.length;
  renderAlumni('slide-left'); // Update content and reattach event listeners
  restartAlumniAutoSlide();
}

// Restart auto slide
function restartAlumniAutoSlide() {
  clearInterval(alumniAutoSlideInterval);
  startAlumniAutoSlide();
}

// Start auto slide
function startAlumniAutoSlide() {
  alumniAutoSlideInterval = setInterval(showNextAlumni, 2500);
}

// Handle span click
function handleAlumniSpanClick(index) {
  if (index !== alumniCurrentIndex) {
    const animationClass = index > alumniCurrentIndex ? 'slide-right' : 'slide-left';
    alumniCurrentIndex = index;
    
    // Update content and reattach event listeners
    renderAlumni(animationClass);
    
    // Ensure DOM updates before adding the class
    setTimeout(() => {
      const alumniText = alumniTextContainer.querySelector('.alumuni-text');
      alumniText.classList.add(animationClass);
    }, 50); // Small delay to ensure DOM update before adding class
    
    // Remove the class after the animation completes
    setTimeout(() => {
      const alumniText = alumniTextContainer.querySelector('.alumuni-text');
      alumniText.classList.remove(animationClass);
    }, 1050); // 1000ms for animation + 50ms delay
    
    resetAlumniAnimation(); // Reset any previous animations
    updateAlumniActiveSpan(alumniCurrentIndex);
    restartAlumniAutoSlide();
  }
}

// Initialize slider span event listeners
function initializeAlumniSliderSpanEventListeners() {
  document.querySelectorAll('.alumuni .slider-span-container').forEach((container) => {
    container.addEventListener('click', (e) => {
      handleAlumniSpanClick(parseInt(container.dataset.index));
    });
  });
}

function handleAlumniTouchDragEvents() {
  let startX, currentX;
  let isDragging = false;
  
  alumniTextContainer.addEventListener('touchstart', (e) => {
    startX = e.touches[0].clientX;
    isDragging = true;
    disableAlumniLinks(true); // Disable links
    disableTextSelection(true); // Prevent text selection
    clearInterval(alumniAutoSlideInterval);
  });

  alumniTextContainer.addEventListener('touchmove', (e) => {
    if (isDragging) {
      currentX = e.touches[0].clientX;
      const difference = currentX - startX;
      alumniTextContainer.style.transform = `translateX(${difference}px)`;
    }
  });

  alumniTextContainer.addEventListener('touchend', (e) => {
    handleAlumniDragEnd(e.changedTouches[0].clientX);
    disableAlumniLinks(false); // Re-enable links
    disableTextSelection(false); // Allow text selection
  });

  alumniTextContainer.addEventListener('mousedown', (e) => {
    startX = e.clientX;
    isDragging = true;
    disableAlumniLinks(true); // Disable links
    disableTextSelection(true); // Prevent text selection
    clearInterval(alumniAutoSlideInterval);
  });

  alumniTextContainer.addEventListener('mousemove', (e) => {
    if (isDragging) {
      currentX = e.clientX;
      const difference = currentX - startX;
      alumniTextContainer.style.transform = `translateX(${difference}px)`;
    }
  });

  alumniTextContainer.addEventListener('mouseup', (e) => {
    handleAlumniDragEnd(e.clientX);
    disableAlumniLinks(false); // Re-enable links
    disableTextSelection(false); // Allow text selection
  });

  alumniTextContainer.addEventListener('mouseleave', (e) => {
    if (isDragging) {
      handleAlumniDragEnd(e.clientX);
      disableAlumniLinks(false); // Re-enable links
      disableTextSelection(false); // Allow text selection
    }
  });

  function handleAlumniDragEnd(endX) {
    isDragging = false;
    const difference = endX - startX;

    // Updated threshold for smaller drag difference
    const threshold = 20; // Lower threshold for smaller drags

    if (difference < -threshold) { // Dragging left
      showNextAlumni();
    } else if (difference > threshold) { // Dragging right
      showPrevAlumni();
    }

    alumniTextContainer.style.transition = 'transform 0.2s ease'; // Reduced transition time for quick response
    alumniTextContainer.style.transform = 'translateX(0)';

    restartAlumniAutoSlide();
    
    setTimeout(() => {
      alumniTextContainer.style.transition = '';
    }, 200); // Shorter timeout after animation
  }

  function disableAlumniLinks(disable) {
    const links = alumniTextContainer.querySelectorAll('a');
    links.forEach(link => link.style.pointerEvents = disable ? 'none' : 'auto');
  }

  function disableTextSelection(disable) {
    alumniTextContainer.style.userSelect = disable ? 'none' : 'auto';
  }
}

// Initialize the alumni slider
renderAlumni('slide-right');
startAlumniAutoSlide();
handleAlumniTouchDragEvents();

  // Function to open the modal with the relevant video
  function openModalWithVideo(videoUrl) {
    const modal = document.getElementById('modal');
    const iframe = modal.querySelector('iframe');

    // Set the iframe src to the video URL
    iframe.src = videoUrl;

    // Display the modal
    modal.style.display = 'block';
  }

  // Function to close the modal
  function closeModal() {
    const modal = document.getElementById('modal');
    const iframe = modal.querySelector('iframe');

    // Stop the video by removing the src
    iframe.src = '';

    // Hide the modal
    modal.style.display = 'none';
  }

   document.addEventListener('DOMContentLoaded', () => {
    const closeModalIcon = document.querySelector('.modal-close-icon');
    if (closeModalIcon) {
      closeModalIcon.addEventListener('click', closeModal);
    }
  });


</script>






</body>
</html>